---
title: Storage and Memory
slug: /reference/storage
description: Aelin 的存储结构与记忆分层机制，帮助你理解“为什么它能持续记住”。
---

# Storage and Memory

Aelin 的长期能力，建立在稳定的存储与清晰的记忆分层之上。

这一页会回答三个核心问题：数据存在哪、怎么分层、如何避免语义污染。

## 持久化层

当前主要包含两类：

- 数据库层：用户、账号、消息、记忆、配置等核心实体。
- 本地层：会话草稿、当前会话状态、界面桥接信息等。

数据库负责“长期可靠”，本地层负责“即时体验与交互连续性”。

## 记忆分层

Aelin 将记忆拆成三个层级：

- `facts`：相对稳定的客观事实。
- `preferences`：用户偏好与风格倾向。
- `in_progress`：进行中的任务状态（例如跟踪流程）。

分层的好处是：系统在检索与推理时更容易做优先级决策，减少无关信息干扰。

## Workspace 隔离

布局、记忆和主动提醒都会携带 workspace 语义。这样可以降低跨主题污染，避免“在 A 主题积累的上下文误伤 B 主题判断”。

如果你同时维护多个关注方向，workspace 隔离尤为重要。

## 重装与迁移影响

- 本地 `localStorage` 可能随清理或重装丢失。
- 数据库是否保留，取决于你的安装方式与数据目录策略。

建议在关键阶段保留周期性备份，尤其是长期跟踪与高价值记忆。

## 使用建议

- 定期清理低价值记忆，保持检索质量。
- 对关键主题使用稳定命名与 workspace 规则。
- 在版本升级前做一次基础数据健康检查。

良好的存储治理，能显著提升后续回答稳定性与追问效率。
